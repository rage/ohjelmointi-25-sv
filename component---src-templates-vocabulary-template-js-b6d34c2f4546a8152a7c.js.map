{"version":3,"sources":["webpack://ohjelmoinnin-mooc/./src/templates/VocabularyTemplate.js"],"names":["Title","styled","ContentWrapper","VocabularyTemplate","render","data","this","props","page","frontmatter","htmlAst","allPages","edges","map","o","res","node","words","vocabularyWords","partials","getNamedPartials","renderAst","rehypeReact","createElement","React","components","Compiler","filePath","fileAbsolutePath","substring","lastIndexOf","length","value","all","current","title","Fragment","contextType","PagesContext"],"mappings":"mSAYMA,EAAQC,mBAAS,qEAATA,CAAS,MAEjBC,EAAiBD,oBAAU,8EAAVA,CAAU,gEASZE,EAAkB,8DA4CpC,OA5CoC,wBAGrCC,OAAA,WACE,IAAQC,EAASC,KAAKC,MAAdF,KACR,EAAiCA,EAAKG,KAA9BC,EAAW,EAAXA,YAAaC,EAAO,EAAPA,QACfC,EAAWN,EAAKM,SAASC,MAAMC,KAAI,SAACC,GAAO,IAAD,IACxCC,EAAY,QAAT,EAAGD,EAAEE,YAAI,aAAN,EAAQP,YAEpB,OADAM,EAAIE,MAAc,QAAT,EAAGH,EAAEE,YAAI,aAAN,EAAQE,gBACbH,CACT,IACMI,GAAWC,SACXC,EAAY,IAAIC,IAAJ,CAAgB,CAChCC,cAAeC,gBACfC,WAAYN,IACXO,SAEGC,EAAWtB,EAAKG,KAAKoB,iBAAiBC,UAC1CxB,EAAKG,KAAKoB,iBAAiBE,YAAY,UACvCzB,EAAKG,KAAKoB,iBAAiBG,QAG7B,OACE,gBAAC,aAAqB,CACpBC,MAAO,CACLC,IAAKtB,EACLuB,QAAS,CAAEzB,YAAaA,EAAakB,SAAUA,KAGjD,gBAAC,IAAM,CAACQ,MAAO1B,EAAY0B,QAC3B,gBAAC,KAAyB,KACxB,gBAAC,IAAM,KACL,gBAAC,EAAAC,SAAQ,KACP,gBAAC,IAAS,KACR,gBAAClC,EAAc,KACb,gBAACF,EAAK,KAAES,EAAY0B,OACnBd,EAAUX,QAQ3B,EAAC,EA5CoC,CAASc,aAA3BrB,EACZkC,YAAcC,G","file":"component---src-templates-vocabulary-template-js-b6d34c2f4546a8152a7c.js","sourcesContent":["import React, { Fragment } from \"react\"\nimport Layout from \"./Layout\"\nimport Container from \"../components/Container\"\nimport { graphql } from \"gatsby\"\nimport rehypeReact from \"rehype-react\"\nimport { Helmet } from \"react-helmet\"\nimport styled from \"styled-components\"\nimport getNamedPartials from \"../partials\"\nimport \"./remark.css\"\nimport PagesContext from \"../contexes/PagesContext\"\nimport { LoginStateContextProvider } from \"../contexes/LoginStateContext\"\n\nconst Title = styled.h1``\n\nconst ContentWrapper = styled.div`\n  margin-top: 1rem;\n  padding-bottom: 2rem;\n\n  p {\n    margin-bottom: 2rem;\n  }\n`\n\nexport default class VocabularyTemplate extends React.Component {\n  static contextType = PagesContext\n\n  render() {\n    const { data } = this.props\n    const { frontmatter, htmlAst } = data.page\n    const allPages = data.allPages.edges.map((o) => {\n      const res = o.node?.frontmatter\n      res.words = o.node?.vocabularyWords\n      return res\n    })\n    const partials = getNamedPartials()\n    const renderAst = new rehypeReact({\n      createElement: React.createElement,\n      components: partials,\n    }).Compiler\n\n    const filePath = data.page.fileAbsolutePath.substring(\n      data.page.fileAbsolutePath.lastIndexOf(\"/data/\"),\n      data.page.fileAbsolutePath.length,\n    )\n\n    return (\n      <PagesContext.Provider\n        value={{\n          all: allPages,\n          current: { frontmatter: frontmatter, filePath: filePath },\n        }}\n      >\n        <Helmet title={frontmatter.title} />\n        <LoginStateContextProvider>\n          <Layout>\n            <Fragment>\n              <Container>\n                <ContentWrapper>\n                  <Title>{frontmatter.title}</Title>\n                  {renderAst(htmlAst)}\n                </ContentWrapper>\n              </Container>\n            </Fragment>\n          </Layout>\n        </LoginStateContextProvider>\n      </PagesContext.Provider>\n    )\n  }\n}\n\nexport const pageQuery = graphql`\n  query ($path: String!) {\n    page: markdownRemark(frontmatter: { path: { eq: $path } }) {\n      htmlAst\n      html\n      frontmatter {\n        path\n        title\n      }\n      fileAbsolutePath\n    }\n    allPages: allMarkdownRemark(\n      sort: { order: ASC, fields: frontmatter___path }\n      limit: 1000\n      filter: {\n        frontmatter: { hidden: { ne: true } }\n        vocabularyWords: { elemMatch: { name: { regex: \"/.+/\" } } }\n      }\n    ) {\n      edges {\n        node {\n          id\n          frontmatter {\n            path\n            title\n          }\n          vocabularyWords {\n            type\n            name\n            description\n            parentPagePath\n          }\n        }\n      }\n    }\n  }\n`\n"],"sourceRoot":""}